<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inorder Traversal</title>
    <link rel="stylesheet" href="inorder.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
</head>
<body>
    <header>
        <!--Image-->
        <div>
            <h2 id="h" align="left">DotConnect</h2>
            <img id="logo" src="line-chart.png">
        </div>
        <nav>
            <ul class="nav_links">
                <li><a href="homepage.html"> Home </a></li>
                <li><a href="problemset.html"> Problemset </a></li>
                <li><a href="IDE.html"> IDE </a></li>
                <li><a href="AboutUs.html"> About us </a></li>
            </ul>
        </nav>
    </header>
    <h2 id="head"> In Order Traversal </h2>
    <div class="container">
        <div class="left">
            <label><i class="fa-brands fa-js" style="color: #FFD43B;"></i>Javascript</label>
            <textarea id="js-code"></textarea>
            <button id="run-js">Start</button>
        </div>
        <div class="right">
            <label><i class="fa-solid fa-play" style="color: #74C0FC;"></i>Output</label>
            <iframe id="output"></iframe>
        </div>
    </div>

    <script>
        let nodes = {};
        let currentNode = null;

        function start() {
            promptUser("Node");
        }

        function promptUser(prompt) {
            let userInput = prompt(prompt);
            if (prompt === "Node") {
                nodes[userInput] = {};
                printOutput(`Node: ${userInput}`);
                promptUser("Edges");
            } else if (prompt === "Edges") {
                let edges = userInput.split(",");
                for (let edge of edges) {
                    nodes[edge] = {};
                }
                printOutput(`Edges: ${userInput}`);
                promptUser("Now you are going to build the tree. Put the values of the nodes.");
            } else {
                currentNode = userInput;
                printOutput(`Now you are going to build the tree. Put the values of the nodes.`);
                promptUser(`Value: `);
            }
        }

        function promptValue() {
            let value = prompt(`Value: `);
            nodes[currentNode].value = value;
            printOutput(`Value: ${value}`);
            promptLeft(`Node left of ${value}: `);
        }

        function promptLeft(prompt) {
            let left = prompt(prompt);
            if (left!== "-1") {
                nodes[currentNode].left = left;
                currentNode = left;
                printOutput(`Node left of ${nodes[currentNode].value}: ${left}`);
                promptValue();
            } else {
                promptRight(`Node right of ${nodes[currentNode].value}: `);
            }
        }

        function promptRight(prompt) {
            let right = prompt(prompt);
            if (right!== "-1") {
                nodes[currentNode].right = right;
                currentNode = right;
                printOutput(`Node right of ${nodes[currentNode].value}: ${right}`);
                promptValue();
            } else {
                printOutput("Tree built successfully!");
                printOutput(JSON.stringify(nodes, null, 2));
            }
        }

        function printOutput(text) {
            let output = document.getElementById("output");
            output.contentWindow.document.body.innerHTML += `<p>${text}</p>`;
        }
    </script>
    <!--<script defer type="module" src="inorder.js"></script>-->
</body>
</html>